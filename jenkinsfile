pipeline{
  agent any
  stages{
    stage('maven build'){
      steps{
          sh 'mvn clean install package'
          archiveArtifacts artifacts: 'target/*.war'  
      }
    }
    stage ('nexus upload') {
      steps{
        nexusArtifactUploader artifacts: [
        [ artifactId: 'simple-app', 
          classifier: '', 
          file: 'target/simple-app-3.0.0-SNAPSHOT.war	', 
          type: 'war'
        ]
       ], 
          credentialsId: 'nexus3', 
          groupId: 'in.javahome', 
          nexusUrl: '10.0.0.179:8081', 
          nexusVersion: 'nexus3', 
          protocol: 'http', 
          repository: 'sample-app-snapshot', 
          version: '3.0.0'
      }
     } 
  }
}
